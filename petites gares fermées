## library -----

library(readr) 
library(tidyverse)
library(maps)
library(ggmap) #Cite ggmap is used
library(DT)
library(knitr)
library(geojsonio)
library(mapview)
library(ggplot2)
library(leaflet)
library(raster)
library(scales)
library(tmap)
library(tmaptools)
library(sf)
library(geojson)
library(OpenStreetMap)
library(devtools)
library(dplyr)

devtools::install_github("dkahle/ggmap")
install.packages("mapview")
## train sations vars -----



gares_france_mod <- read_sf("./Sciences Po R project/data/gares_france.mod.csv")

View(gares_france_mod)
glimpse(gares_france_mod)
gares_france_mod %>% filter(NATURE == "closed") -> closed_gare


#### Aizhan's suggestion ### 
names(closed_gare)
colnames(closed_gare) <- c("CODE_LIGNE", "NOM", "NATURE", "Latitude", "Longitude", "Status")
library(devtools)
require(devtools)
#devtools::install_github("dkahle/ggmap", ref = "tidyup")
library(ggmap)
register_google(key = "YOUR API KEY") ### if you do not have one or do not manage to obtain one, you can check the Final Code from our project for it 
basemap <- get_map(location = 'france', zoom=6, maptype = "terrain",
                   source='google',color='color')
ggmap(basemap) + 
  geom_point(data=closed_gare, aes(x=Longitude,y=Latitude, color="red"), 
             alpha = 0.5)+scale_size_continuous(range=c(1,6))

